query getState($projectPath: ID!, $iid: String!) {
  project(fullPath: $projectPath) {
    id
    archived
    onlyAllowMergeIfPipelineSucceeds
    mergeRequest(iid: $iid) {
      id
      autoMergeEnabled
      commitCount
      detailedMergeStatus
      mergeError
      state
      userPermissions {
        canMerge
      }
      draft
    }
  }
}
